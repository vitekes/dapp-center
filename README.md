# DApp Center

Децентрализованное приложение (DApp) для управления пожертвованиями, профилями пользователей и выдачи soulbound-бейджей за пожертвования.

## Структура проекта

Проект состоит из следующих основных компонентов:

### Смарт-контракты

- **SoulboundBadge.sol** - ERC721-токен с ограничением на передачу (soulbound), используется для выдачи бейджей за пожертвования.
- **DonationContract.sol** - Контракт для приема пожертвований в ETH, отслеживания суммы пожертвований пользователей и выдачи бейджей.
- **Profile.sol** - Контракт для хранения профилей пользователей, включая информацию о социальных сетях, адресах для пожертвований и репутации.

### Фронтенд

- Next.js приложение с интеграцией Web3 через wagmi и rainbow-kit
- Автоматическая генерация переменных окружения из деплоев контрактов

## Настройка проекта

### Предварительные требования

- Node.js 18+ и npm/yarn
- Metamask или другой Ethereum-кошелек

### Установка зависимостей

```bash
npm install
# или
yarn install
```

### Настройка переменных окружения

1. Скопируйте файл `.env` в `.env.local` (если он еще не создан)
2. Отредактируйте `.env.local`, заменив плейсхолдеры на реальные значения:
   - `SEPOLIA_RPC` - URL для подключения к сети Sepolia (например, от Alchemy или Infura)
   - `PRIVATE_KEY` - Приватный ключ для деплоя контрактов (без префикса 0x)

## Локальная разработка

### Запуск локальной Ethereum-ноды

```bash
npx hardhat node
```

### Деплой контрактов в локальную сеть

```bash
npm run deploy:local
# или
yarn deploy:local
```

### Запуск фронтенда

```bash
npm run dev
# или
yarn dev
```

Откройте [http://localhost:3000](http://localhost:3000) в браузере.

## Деплой в тестовую сеть Sepolia

```bash
npm run deploy:sepolia
# или
yarn deploy:sepolia
```

## Основные скрипты

- `npm run dev` - Запуск фронтенда в режиме разработки
- `npm run build` - Сборка фронтенда для продакшена
- `npm run compile` - Компиляция смарт-контрактов
- `npm run deploy:local` - Деплой контрактов в локальную сеть и генерация переменных окружения
- `npm run deploy:sepolia` - Деплой контрактов в сеть Sepolia и генерация переменных окружения
- `npm run env:gen` - Генерация переменных окружения из существующих деплоев

## Недавние исправления

1. Исправлен контракт SoulboundBadge для корректного отслеживания токенов пользователей
2. Настроена конфигурация сети Sepolia в hardhat.config.ts
3. Улучшены комментарии в .env файле для более понятной настройки
4. Обновлена документация проекта
